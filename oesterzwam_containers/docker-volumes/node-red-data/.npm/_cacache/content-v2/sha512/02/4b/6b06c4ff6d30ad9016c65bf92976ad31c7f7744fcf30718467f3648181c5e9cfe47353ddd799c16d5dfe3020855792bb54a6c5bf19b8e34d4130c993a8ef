{"_id":"node-red-contrib-opentimestamps","_rev":"7-6e71f8e5ee29932f54a7ff159daeab07","name":"node-red-contrib-opentimestamps","description":"Node-RED implementation of OpenTimestamps.","dist-tags":{"latest":"0.0.7"},"versions":{"0.0.1":{"name":"node-red-contrib-opentimestamps","version":"0.0.1","description":"Node-RED implementation of OpenTimestamps.","author":{"name":"Valerio Vaccaro","email":"valerio.vaccaro@gmail.com"},"dependencies":{"javascript-opentimestamps":"latest"},"repository":{"type":"git","url":"git+https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps.git"},"keywords":["node-red","opentimestamps","bitcoin"],"node-red":{"nodes":{"opentimestamps":"opentimestamps/opentimestamps.js"}},"gitHead":"f7b594d2de78e825a2202c5c03815760b9ec24aa","bugs":{"url":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps/issues"},"homepage":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps#readme","_id":"node-red-contrib-opentimestamps@0.0.1","scripts":{},"_shasum":"a4ff3d278c0b5393c1cded54f78e702540ffe993","_from":".","_npmVersion":"3.10.10","_nodeVersion":"6.9.4","_npmUser":{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"},"dist":{"shasum":"a4ff3d278c0b5393c1cded54f78e702540ffe993","tarball":"https://registry.npmjs.org/node-red-contrib-opentimestamps/-/node-red-contrib-opentimestamps-0.0.1.tgz","integrity":"sha512-6G+5itapOI45CXNhvxAHNtCra8Oa7E1e8MUcts5tVawnD3kSTx0p5SrUlg5swx868v61WacsYdpiE+lL6DlH3Q==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCID1fzvilJIkvPEvz0lPsYjUcYGDwCVYEXNLAdnnaKWIOAiEAjOkIJ/GTKVETl+pBxYVFM1wKGyH6pMXJnNJx5tjlwCk="}]},"maintainers":[{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"}],"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/node-red-contrib-opentimestamps-0.0.1.tgz_1494679344897_0.8417233827058226"}},"0.0.2":{"name":"node-red-contrib-opentimestamps","version":"0.0.2","description":"Node-RED implementation of OpenTimestamps.","author":{"name":"Valerio Vaccaro","email":"valerio.vaccaro@gmail.com"},"dependencies":{"javascript-opentimestamps":"latest"},"repository":{"type":"git","url":"git+https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps.git"},"keywords":["node-red","opentimestamps","bitcoin","timestamp","blockchain"],"node-red":{"nodes":{"opentimestamps":"opentimestamps/opentimestamps.js"}},"gitHead":"1d829a796b22c55006741d1d96f4571c9aad7c75","bugs":{"url":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps/issues"},"homepage":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps#readme","_id":"node-red-contrib-opentimestamps@0.0.2","scripts":{},"_shasum":"b91413af94cfdafbee6e9725cf22d5264727c5f6","_from":".","_npmVersion":"3.10.10","_nodeVersion":"6.9.4","_npmUser":{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"},"dist":{"shasum":"b91413af94cfdafbee6e9725cf22d5264727c5f6","tarball":"https://registry.npmjs.org/node-red-contrib-opentimestamps/-/node-red-contrib-opentimestamps-0.0.2.tgz","integrity":"sha512-GpsoCQ07+sPGyyaWALJ529/8SbFA41cF6r1HiBHQyKWr1l3glkslAUhB5Xb+M1EQJZ0sqgE65UiJUOyAysgCfA==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQCx6IymcQJnVWt3UXTgLop4+iZvJxwjTiEtpA2eVHBhfgIhAJSGNGJ41V7WW1xmA8qmqLrCnE07UtXmuuQklFoNkwEk"}]},"maintainers":[{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"}],"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/node-red-contrib-opentimestamps-0.0.2.tgz_1494858224753_0.2948161328677088"}},"0.0.3":{"name":"node-red-contrib-opentimestamps","version":"0.0.3","description":"Node-RED implementation of OpenTimestamps.","author":{"name":"Valerio Vaccaro","email":"valerio.vaccaro@gmail.com"},"dependencies":{"javascript-opentimestamps":"latest"},"repository":{"type":"git","url":"git+https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps.git"},"keywords":["node-red","opentimestamps","bitcoin","timestamp","blockchain"],"node-red":{"nodes":{"opentimestamps":"opentimestamps/opentimestamps.js"}},"gitHead":"1c250108dc1a321c9e3383e075456717963b6846","bugs":{"url":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps/issues"},"homepage":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps#readme","_id":"node-red-contrib-opentimestamps@0.0.3","scripts":{},"_shasum":"938c4ded898e1db5d7fc8ba9257a6a2d8e8017df","_from":".","_npmVersion":"3.10.10","_nodeVersion":"6.9.4","_npmUser":{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"},"dist":{"shasum":"938c4ded898e1db5d7fc8ba9257a6a2d8e8017df","tarball":"https://registry.npmjs.org/node-red-contrib-opentimestamps/-/node-red-contrib-opentimestamps-0.0.3.tgz","integrity":"sha512-r8eQb3tvtHPU+zoOEPkeZSdG4nlBHZO8fKnrWOXaxsqPUp6d5dWqW3ol0dnehOzxB5uRp7lp0vBErm5orYWDqA==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCICyvRwNf+pzhdwD/ye8IUBcOu0cGn4U/RcizopDe+qO1AiBZTNL2mlf5k7z8RK9pAPRM6A9e7dgDQnEZ2VvrMxvb0A=="}]},"maintainers":[{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"}],"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/node-red-contrib-opentimestamps-0.0.3.tgz_1494860587554_0.0118356728926301"}},"0.0.4":{"name":"node-red-contrib-opentimestamps","version":"0.0.4","description":"Node-RED implementation of OpenTimestamps.","author":{"name":"Valerio Vaccaro","email":"valerio.vaccaro@gmail.com"},"dependencies":{"javascript-opentimestamps":"latest"},"repository":{"type":"git","url":"git+https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps.git"},"keywords":["node-red","opentimestamps","bitcoin","timestamp","blockchain"],"node-red":{"nodes":{"opentimestamps":"opentimestamps/opentimestamps.js"}},"gitHead":"b038d65467063e71b3638e1a452848283267d271","bugs":{"url":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps/issues"},"homepage":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps#readme","_id":"node-red-contrib-opentimestamps@0.0.4","scripts":{},"_shasum":"f45698ce3c029e43ce4b193929f1ffdc36716870","_from":".","_npmVersion":"3.10.10","_nodeVersion":"6.9.4","_npmUser":{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"},"dist":{"shasum":"f45698ce3c029e43ce4b193929f1ffdc36716870","tarball":"https://registry.npmjs.org/node-red-contrib-opentimestamps/-/node-red-contrib-opentimestamps-0.0.4.tgz","integrity":"sha512-ANVIPFjX72LUokTAy94LM7aVDS8tzIl3flwdW6NBQ+vdVWYuhyQUkxw6AsA9g34v/V2yTjXw1bT6NDJhdf1VAg==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIE0zQHAh3pq2+rg/V65SW3Vw/hfiCX4ySGND2IrR5KQ3AiEA4x1cSGHKWN0xROAoGcxnGsds4Y0UPNfZDOew4IiZUiA="}]},"maintainers":[{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-red-contrib-opentimestamps-0.0.4.tgz_1496091840466_0.6212421474047005"}},"0.0.5":{"name":"node-red-contrib-opentimestamps","version":"0.0.5","description":"Node-RED implementation of OpenTimestamps.","author":{"name":"Valerio Vaccaro","email":"valerio.vaccaro@gmail.com"},"dependencies":{"javascript-opentimestamps":"latest"},"repository":{"type":"git","url":"git+https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps.git"},"keywords":["node-red","opentimestamps","bitcoin","timestamp","blockchain"],"node-red":{"nodes":{"opentimestamps":"opentimestamps/opentimestamps.js"}},"gitHead":"4bbe843f414dea7b49dddb24f39a326affb32b66","bugs":{"url":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps/issues"},"homepage":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps#readme","_id":"node-red-contrib-opentimestamps@0.0.5","scripts":{},"_shasum":"3bbaf416a8cf722bed89448b578b46d9da41ea1f","_from":".","_npmVersion":"3.10.10","_nodeVersion":"6.9.4","_npmUser":{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"},"dist":{"shasum":"3bbaf416a8cf722bed89448b578b46d9da41ea1f","tarball":"https://registry.npmjs.org/node-red-contrib-opentimestamps/-/node-red-contrib-opentimestamps-0.0.5.tgz","integrity":"sha512-qVLBdnhBYt9Lau5216h0z+9NhapDYavA+MRS5XWHBl77ykRLUTtW2P/KxI/4iNmMIfWfBZaD7fFsTEIZ5dNqBA==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQD+/+F0zYXl6d0R/O0VGQO+q+ChJQrv4AKvwhN1b57M8AIgClAV2euiUme/KC5zGvn2Bp1G9PCE8YBA+Pl4Dd/1jCs="}]},"maintainers":[{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-red-contrib-opentimestamps-0.0.5.tgz_1496183919976_0.21418741531670094"}},"0.0.7":{"name":"node-red-contrib-opentimestamps","version":"0.0.7","description":"Node-RED implementation of OpenTimestamps.","author":{"name":"Valerio Vaccaro","email":"valerio.vaccaro@gmail.com"},"dependencies":{"javascript-opentimestamps":"0.1.18"},"repository":{"type":"git","url":"git+https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps.git"},"keywords":["node-red","opentimestamps","bitcoin","timestamp","blockchain"],"node-red":{"nodes":{"opentimestamps":"opentimestamps/opentimestamps.js"}},"gitHead":"9236791554c3e3261f0a9b5be4d76e570f49eded","bugs":{"url":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps/issues"},"homepage":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps#readme","_id":"node-red-contrib-opentimestamps@0.0.7","scripts":{},"_shasum":"41f0c2ac7dad39229fef160c4a62c5a9df63fbe1","_from":".","_npmVersion":"3.10.10","_nodeVersion":"6.9.4","_npmUser":{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"},"dist":{"shasum":"41f0c2ac7dad39229fef160c4a62c5a9df63fbe1","tarball":"https://registry.npmjs.org/node-red-contrib-opentimestamps/-/node-red-contrib-opentimestamps-0.0.7.tgz","integrity":"sha512-J5oDY3ta7XT/YpkdLj/bwxebba5k13aLxRHjLPolg1lUANPtDEopYIXVcxQL+beeVMDHaASaU+bJalf9mwB1Mw==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIGr1ftoLMTdpRNYKCXJl/Ck6aK3TxnBOvqcFe75uSs8AAiB967H9mBbZmkKya4pVTfD436ojHPA8dWElvwfgTm9pBA=="}]},"maintainers":[{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-red-contrib-opentimestamps-0.0.7.tgz_1512344648160_0.9768996224738657"}}},"readme":"# node-red-contrib-opentimestamps\nA collection of [Node-RED](http://nodered.org) nodes use the OpenTimestamps services.\n\n## What you mean with *opentimestamps*?\n>A timestamping proof standard\n\n>OpenTimestamps aims to be a standard format for blockchain timestamping. The format is flexible enough to be vendor and blockchain independent.\n\nOpenTimestamps is a standard for obtain a service with Trustless Timestamps or in other words timestamps secured by the blockchain.\n\n## Install\nUse npm to command to install this package locally in the Node-RED modules directory\n```bash\nnpm install node-red-contrib-opentimestamps\n```\nor install in it globally with the command\n```bash\nnpm install node-red-contrib-opentimestamps -g\n```\n\n## Nodes included in the package\n**OTS_Stamp** create an opentimestamps proof based on the data on buffer *msg.fileArray* and save the receipt on the buffer *msg.otsArray*\n\n**OTS_Info** convert the opentimestamps receipt (taken from *msg.otsArray* ) in a readable format available on the *msg.payload* (as a string)\n\n**OTS_Upgrade** upgrade the receipt available in the buffer *msg.otsArray* (overwrite the previous content)\n\n**OTS_Verify** based on the two buffer *msg.fileArray* and *msg.otsArray* calculate if a message is valid or not and answer with the result in a readable format on *msg.payload*\n\n## Usage example\n\nA Simple usage of the plugin in Node-RED can be a message broker that work in the following way:\n\n- receive a message from an input queue,\n- request the timestamp for the payload and save the receipt from the opentimestamps server,\n- create a new message with a JSON with the data of the oringinal payload and the receipt from opentimestamp server,\n- send the message on the output queue.\n\n### MQTT timestamping broker\n\n![mqtt_flow](examples/mqtt_flow.png)\n\nThe first implementation was a broker for timestamp messages flowing in a MQTT server, the flow of the broker is the part in the red box.\n\n```json\n[\n    {\n        \"id\": \"86aec060.69b3d\",\n        \"type\": \"inject\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"\",\n        \"topic\": \"\",\n        \"payload\": \"bla bla\",\n        \"payloadType\": \"str\",\n        \"repeat\": \"\",\n        \"crontab\": \"\",\n        \"once\": false,\n        \"x\": 90,\n        \"y\": 60,\n        \"wires\": [\n            [\n                \"10ea2927.96f247\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"3a768aaa.e483d6\",\n        \"type\": \"OTS_Stamp\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"OTS_Stamp\",\n        \"x\": 430,\n        \"y\": 260,\n        \"wires\": [\n            [\n                \"2996139.6165bec\",\n                \"208b34b.419b8cc\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"a8e88100.e5485\",\n        \"type\": \"function\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"Convert\",\n        \"func\": \"msg.fileArray = new Buffer(msg.payload);\\nmsg.payload = null;\\nreturn msg;\",\n        \"outputs\": 1,\n        \"noerr\": 0,\n        \"x\": 240,\n        \"y\": 260,\n        \"wires\": [\n            [\n                \"3a768aaa.e483d6\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"2996139.6165bec\",\n        \"type\": \"OTS_Info\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"OTS_Info\",\n        \"x\": 640,\n        \"y\": 300,\n        \"wires\": [\n            [\n                \"5e5825f7.d0b5ec\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"5e5825f7.d0b5ec\",\n        \"type\": \"debug\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"\",\n        \"active\": true,\n        \"console\": \"false\",\n        \"complete\": \"payload\",\n        \"x\": 850,\n        \"y\": 300,\n        \"wires\": []\n    },\n    {\n        \"id\": \"208b34b.419b8cc\",\n        \"type\": \"function\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"Convert\",\n        \"func\": \"msg.payload = {}\\nmsg.payload.data = msg.fileArray;\\nmsg.payload.ots = msg.otsArray;\\nreturn msg;\",\n        \"outputs\": 1,\n        \"noerr\": 0,\n        \"x\": 640,\n        \"y\": 220,\n        \"wires\": [\n            [\n                \"911bbcd8.9ea6\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"630c703c.e22b5\",\n        \"type\": \"mqtt in\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"\",\n        \"topic\": \"ingress_timestamped\",\n        \"qos\": \"2\",\n        \"broker\": \"b2e0c3ab.d24db\",\n        \"x\": 260,\n        \"y\": 480,\n        \"wires\": [\n            [\n                \"8a4a0f7e.c5b8d\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"10ea2927.96f247\",\n        \"type\": \"mqtt out\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"\",\n        \"topic\": \"ingress\",\n        \"qos\": \"\",\n        \"retain\": \"\",\n        \"broker\": \"b2e0c3ab.d24db\",\n        \"x\": 240,\n        \"y\": 60,\n        \"wires\": []\n    },\n    {\n        \"id\": \"f6c25dc9.0707a\",\n        \"type\": \"mqtt in\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"\",\n        \"topic\": \"ingress\",\n        \"qos\": \"2\",\n        \"broker\": \"b2e0c3ab.d24db\",\n        \"x\": 90,\n        \"y\": 260,\n        \"wires\": [\n            [\n                \"a8e88100.e5485\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"911bbcd8.9ea6\",\n        \"type\": \"mqtt out\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"\",\n        \"topic\": \"ingress_timestamped\",\n        \"qos\": \"\",\n        \"retain\": \"\",\n        \"broker\": \"b2e0c3ab.d24db\",\n        \"x\": 880,\n        \"y\": 220,\n        \"wires\": []\n    },\n    {\n        \"id\": \"1da4a149.b2b18f\",\n        \"type\": \"debug\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"\",\n        \"active\": true,\n        \"console\": \"false\",\n        \"complete\": \"true\",\n        \"x\": 630,\n        \"y\": 440,\n        \"wires\": []\n    },\n    {\n        \"id\": \"912c107d.aa1e7\",\n        \"type\": \"change\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"Get data\",\n        \"rules\": [\n            {\n                \"t\": \"set\",\n                \"p\": \"payload\",\n                \"pt\": \"msg\",\n                \"to\": \"payload.data\",\n                \"tot\": \"msg\"\n            }\n        ],\n        \"action\": \"\",\n        \"property\": \"\",\n        \"from\": \"\",\n        \"to\": \"\",\n        \"reg\": false,\n        \"x\": 640,\n        \"y\": 480,\n        \"wires\": [\n            [\n                \"c5dc3887.176e88\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"1f918b60.31f315\",\n        \"type\": \"change\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"Get OTS\",\n        \"rules\": [\n            {\n                \"t\": \"set\",\n                \"p\": \"payload\",\n                \"pt\": \"msg\",\n                \"to\": \"payload.ots\",\n                \"tot\": \"msg\"\n            }\n        ],\n        \"action\": \"\",\n        \"property\": \"\",\n        \"from\": \"\",\n        \"to\": \"\",\n        \"reg\": false,\n        \"x\": 640,\n        \"y\": 520,\n        \"wires\": [\n            [\n                \"1a0710d9.4f655f\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"c5dc3887.176e88\",\n        \"type\": \"function\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"Set filename\",\n        \"func\": \"msg.filename = \\\"/opt/opentimestamp/dump-mqtt/\\\" + msg._msgid + \\\".data\\\"\\nmsg.payload = new Buffer(msg.payload);\\nreturn msg;\",\n        \"outputs\": 1,\n        \"noerr\": 0,\n        \"x\": 810,\n        \"y\": 480,\n        \"wires\": [\n            [\n                \"7c6d470.33266b8\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"1a0710d9.4f655f\",\n        \"type\": \"function\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"Set filename\",\n        \"func\": \"msg.filename = \\\"/opt/opentimestamp/dump-mqtt/\\\" + msg._msgid + \\\".ots\\\"\\nmsg.payload = new Buffer(msg.payload);\\nreturn msg;\",\n        \"outputs\": 1,\n        \"noerr\": 0,\n        \"x\": 810,\n        \"y\": 520,\n        \"wires\": [\n            [\n                \"9b51894d.fb96c8\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"7c6d470.33266b8\",\n        \"type\": \"file\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"\",\n        \"filename\": \"\",\n        \"appendNewline\": false,\n        \"createDir\": false,\n        \"overwriteFile\": \"true\",\n        \"x\": 970,\n        \"y\": 480,\n        \"wires\": []\n    },\n    {\n        \"id\": \"9b51894d.fb96c8\",\n        \"type\": \"file\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"\",\n        \"filename\": \"\",\n        \"appendNewline\": true,\n        \"createDir\": false,\n        \"overwriteFile\": \"false\",\n        \"x\": 970,\n        \"y\": 520,\n        \"wires\": []\n    },\n    {\n        \"id\": \"8a4a0f7e.c5b8d\",\n        \"type\": \"json\",\n        \"z\": \"3c8a5604.39f8ba\",\n        \"name\": \"\",\n        \"x\": 450,\n        \"y\": 480,\n        \"wires\": [\n            [\n                \"1da4a149.b2b18f\",\n                \"912c107d.aa1e7\",\n                \"1f918b60.31f315\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"b2e0c3ab.d24db\",\n        \"type\": \"mqtt-broker\",\n        \"z\": \"\",\n        \"broker\": \"test.mosquitto.org\",\n        \"port\": \"1883\",\n        \"clientid\": \"\",\n        \"usetls\": false,\n        \"compatmode\": true,\n        \"keepalive\": \"60\",\n        \"cleansession\": true,\n        \"willTopic\": \"\",\n        \"willQos\": \"0\",\n        \"willPayload\": \"\",\n        \"birthTopic\": \"\",\n        \"birthQos\": \"0\",\n        \"birthPayload\": \"\"\n    }\n]\n\n```\n### AMQP timestamping broker\n\n![mqtt_flow](examples/amqp_flow.png)\n\nThe same flow can be implemented using AMQP instead of MQTT with a similar flow.\n\n```json\n[\n    {\n        \"id\": \"c96a6450.746888\",\n        \"type\": \"inject\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"\",\n        \"topic\": \"\",\n        \"payload\": \"bla bla\",\n        \"payloadType\": \"str\",\n        \"repeat\": \"\",\n        \"crontab\": \"\",\n        \"once\": false,\n        \"x\": 90,\n        \"y\": 60,\n        \"wires\": [\n            [\n                \"d643a206.ef485\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"8d6c59c8.a0e228\",\n        \"type\": \"debug\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"\",\n        \"active\": true,\n        \"console\": \"false\",\n        \"complete\": \"true\",\n        \"x\": 590,\n        \"y\": 420,\n        \"wires\": []\n    },\n    {\n        \"id\": \"58687119.21835\",\n        \"type\": \"amqp in\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"\",\n        \"topic\": \"\",\n        \"iotype\": \"1\",\n        \"ioname\": \"ingress_timestamped\",\n        \"server\": \"22c8fc1b.732854\",\n        \"x\": 360,\n        \"y\": 460,\n        \"wires\": [\n            [\n                \"8d6c59c8.a0e228\",\n                \"1fb75e0f.09efa2\",\n                \"a9e5fe7f.6b618\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"d643a206.ef485\",\n        \"type\": \"amqp out\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"\",\n        \"routingkey\": \"\",\n        \"iotype\": \"1\",\n        \"ioname\": \"ingress\",\n        \"server\": \"22c8fc1b.732854\",\n        \"x\": 220,\n        \"y\": 60,\n        \"wires\": []\n    },\n    {\n        \"id\": \"66a83517.6b462c\",\n        \"type\": \"amqp in\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"\",\n        \"topic\": \"\",\n        \"iotype\": \"1\",\n        \"ioname\": \"ingress\",\n        \"server\": \"22c8fc1b.732854\",\n        \"x\": 90,\n        \"y\": 220,\n        \"wires\": [\n            [\n                \"e5429fd6.1f08e\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"7874c67.2902b38\",\n        \"type\": \"OTS_Stamp\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"OTS_Stamp\",\n        \"x\": 430,\n        \"y\": 220,\n        \"wires\": [\n            [\n                \"7468042d.a8bcdc\",\n                \"2421d40d.cc059c\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"e5429fd6.1f08e\",\n        \"type\": \"function\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"Convert\",\n        \"func\": \"msg.fileArray = new Buffer(msg.payload);\\nmsg.payload = null;\\nreturn msg;\",\n        \"outputs\": 1,\n        \"noerr\": 0,\n        \"x\": 240,\n        \"y\": 220,\n        \"wires\": [\n            [\n                \"7874c67.2902b38\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"7468042d.a8bcdc\",\n        \"type\": \"OTS_Info\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"OTS_Info\",\n        \"x\": 640,\n        \"y\": 260,\n        \"wires\": [\n            [\n                \"54b36dc9.c367a4\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"54b36dc9.c367a4\",\n        \"type\": \"debug\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"\",\n        \"active\": true,\n        \"console\": \"false\",\n        \"complete\": \"payload\",\n        \"x\": 850,\n        \"y\": 260,\n        \"wires\": []\n    },\n    {\n        \"id\": \"2421d40d.cc059c\",\n        \"type\": \"function\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"Convert\",\n        \"func\": \"msg.payload = {}\\nmsg.payload.data = msg.fileArray;\\nmsg.payload.ots = msg.otsArray;\\nreturn msg;\",\n        \"outputs\": 1,\n        \"noerr\": 0,\n        \"x\": 640,\n        \"y\": 180,\n        \"wires\": [\n            [\n                \"d0f7a135.d2704\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"d0f7a135.d2704\",\n        \"type\": \"amqp out\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"\",\n        \"routingkey\": \"\",\n        \"iotype\": \"1\",\n        \"ioname\": \"ingress_timestamped\",\n        \"server\": \"22c8fc1b.732854\",\n        \"x\": 880,\n        \"y\": 180,\n        \"wires\": []\n    },\n    {\n        \"id\": \"1fb75e0f.09efa2\",\n        \"type\": \"change\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"Get data\",\n        \"rules\": [\n            {\n                \"t\": \"set\",\n                \"p\": \"payload\",\n                \"pt\": \"msg\",\n                \"to\": \"payload.data\",\n                \"tot\": \"msg\"\n            }\n        ],\n        \"action\": \"\",\n        \"property\": \"\",\n        \"from\": \"\",\n        \"to\": \"\",\n        \"reg\": false,\n        \"x\": 600,\n        \"y\": 460,\n        \"wires\": [\n            [\n                \"48d33270.bb3f0c\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"a9e5fe7f.6b618\",\n        \"type\": \"change\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"Get OTS\",\n        \"rules\": [\n            {\n                \"t\": \"set\",\n                \"p\": \"payload\",\n                \"pt\": \"msg\",\n                \"to\": \"payload.ots\",\n                \"tot\": \"msg\"\n            }\n        ],\n        \"action\": \"\",\n        \"property\": \"\",\n        \"from\": \"\",\n        \"to\": \"\",\n        \"reg\": false,\n        \"x\": 600,\n        \"y\": 500,\n        \"wires\": [\n            [\n                \"9b07c36e.453f1\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"48d33270.bb3f0c\",\n        \"type\": \"function\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"Set filename\",\n        \"func\": \"msg.filename = \\\"/opt/opentimestamp/dump-amqp/\\\" + msg._msgid + \\\".data\\\"\\nmsg.payload = new Buffer(msg.payload);\\nreturn msg;\",\n        \"outputs\": 1,\n        \"noerr\": 0,\n        \"x\": 770,\n        \"y\": 460,\n        \"wires\": [\n            [\n                \"b4cdc2a6.e6399\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"9b07c36e.453f1\",\n        \"type\": \"function\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"Set filename\",\n        \"func\": \"msg.filename = \\\"/opt/opentimestamp/dump-amqp/\\\" + msg._msgid + \\\".ots\\\"\\nmsg.payload = new Buffer(msg.payload);\\nreturn msg\",\n        \"outputs\": 1,\n        \"noerr\": 0,\n        \"x\": 770,\n        \"y\": 500,\n        \"wires\": [\n            [\n                \"c56635e0.1f9568\"\n            ]\n        ]\n    },\n    {\n        \"id\": \"b4cdc2a6.e6399\",\n        \"type\": \"file\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"\",\n        \"filename\": \"\",\n        \"appendNewline\": false,\n        \"createDir\": false,\n        \"overwriteFile\": \"true\",\n        \"x\": 930,\n        \"y\": 460,\n        \"wires\": []\n    },\n    {\n        \"id\": \"c56635e0.1f9568\",\n        \"type\": \"file\",\n        \"z\": \"4392d5db.3b662c\",\n        \"name\": \"\",\n        \"filename\": \"\",\n        \"appendNewline\": true,\n        \"createDir\": false,\n        \"overwriteFile\": \"false\",\n        \"x\": 930,\n        \"y\": 500,\n        \"wires\": []\n    },\n    {\n        \"id\": \"22c8fc1b.732854\",\n        \"type\": \"amqp-server\",\n        \"z\": \"\",\n        \"host\": \"mqtt-broker\",\n        \"port\": \"5672\",\n        \"vhost\": \"\",\n        \"keepalive\": \"30\",\n        \"usetls\": false,\n        \"verifyservercert\": true,\n        \"usetopology\": false,\n        \"topology\": \"{\\n\\t\\\"exchanges\\\": [\\n\\t\\t{\\\"name\\\": \\\"exchange1\\\", \\\"type\\\": \\\"direct\\\", \\\"options\\\": {\\\"durable\\\": false}},\\n\\t\\t{\\\"name\\\": \\\"exchange2\\\"}\\n\\t],\\n\\t\\\"queues\\\": [\\n\\t\\t{\\\"name\\\": \\\"queue1\\\", \\\"options\\\": {\\\"messageTtl\\\": 60000}},\\n\\t\\t{\\\"name\\\": \\\"queue2\\\"}\\n\\t],\\n\\t\\\"bindings\\\": [\\n\\t\\t{\\\"source\\\": \\\"exchange1\\\", \\\"queue\\\": \\\"queue1\\\", \\\"pattern\\\": \\\"debug\\\", \\\"args\\\": {}},\\n\\t\\t{\\\"source\\\": \\\"exchange1\\\", \\\"exchange\\\": \\\"exchange2\\\", \\\"pattern\\\": \\\"error\\\"},\\n\\t\\t{\\\"source\\\": \\\"exchange2\\\", \\\"queue\\\": \\\"queue2\\\"}\\n\\t]\\n}\"\n    }\n]\n\n```\n\n## History\n- 0.0.2 - 17 May 2017 : First documented version, public available\n- 0.0.1 - 15 May 2017 : Initial release developed during the event [Hackathon - building layer2 applications that matter](https://www.eventbrite.com/e/bitcoin-building-layer2-applications-that-matter-tickets-33392316317#)\n\nVideo of the Hackathon available on [YouTube](https://www.youtube.com/watch?v=0O_IaCiG3DY) DANGER! It's in Italian! :(\n\n## Authors\n* Valerio Vaccaro (https://github.com/valerio-vaccaro)\n\n## Credits\nNode-RED has been made possible by the hard work of Nick O'Leary @knolleary and Dave Conway-Jones @ceejay at IBM Emerging Technology. Much thanks to them and other supporters for advancing this platform.\nThese node use the javascript-opentimestamps library and the opentimestamps public server! Thanks a lot to make it free and open.\n\nThis module is developed by Valerio Vaccaro (http://www.valeriovaccaro.it).\n","maintainers":[{"name":"tulipan81","email":"valerio.vaccaro@gmail.com"}],"time":{"modified":"2022-06-21T19:48:46.649Z","created":"2017-05-13T12:42:25.676Z","0.0.1":"2017-05-13T12:42:25.676Z","0.0.2":"2017-05-15T14:23:45.884Z","0.0.3":"2017-05-15T15:03:09.419Z","0.0.4":"2017-05-29T21:04:02.066Z","0.0.5":"2017-05-30T22:38:41.753Z","0.0.7":"2017-12-03T23:44:09.821Z"},"homepage":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps#readme","keywords":["node-red","opentimestamps","bitcoin","timestamp","blockchain"],"repository":{"type":"git","url":"git+https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps.git"},"author":{"name":"Valerio Vaccaro","email":"valerio.vaccaro@gmail.com"},"bugs":{"url":"https://github.com/valerio-vaccaro/node-red-contrib-opentimestamps/issues"},"readmeFilename":"README.md"}